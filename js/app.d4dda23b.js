(function(t){function e(e){for(var s,a,o=e[0],l=e[1],u=e[2],d=0,p=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,o=1;o<n.length;o++){var l=n[o];0!==i[l]&&(s=!1)}s&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},i={app:0},r=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/bingo/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),i=n.n(s);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{ended:t.ended},attrs:{id:"app"}},[n("Header",{attrs:{title:"Jouez au bingo+"}}),n("main",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 board-wrapper"},[n("div",{staticClass:"overflow-auto"},[n("div",{staticClass:"scoreboard board",class:t.gameset.name},[n("div",{staticClass:"board-letters"},t._l(t.gameset.letters,(function(e,s){return n("div",{key:s,staticClass:"board-tile letter lighten"},[t._v(" "+t._s(e)+" ")])})),0),n("div",{staticClass:"board-numbers"},t._l(t.gameset.numbers,(function(e,s){return n("span",{key:s,staticClass:"board-tile number",class:{lighten:e.pulled}},[t._v(" "+t._s(e.number)+" ")])})),0)])]),n("div",{staticClass:"settings-box"},[n("div",{staticClass:"settings"},[t.ended?t._e():[n("div",{staticClass:"setting"},[n("div",{staticClass:"input-group input-group-sm w-auto"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.version,expression:"version"}],staticClass:"custom-select text-uppercase",attrs:{id:"inputGroupSelect02"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.version=e.target.multiple?n:n[0]},function(e){return t.setversion()}]}},t._l(t.bingos,(function(e,s){return n("option",{key:s,domProps:{value:s}},[t._v(t._s(e.name))])})),0),t._m(0)])]),n("div",{staticClass:"setting"},[n("div",{staticClass:"btn-group btn-group-sm input-group-sm",attrs:{role:"group","aria-label":"Gestion des joueurs"}},[n("div",{staticClass:"input-group-append"},[n("label",{staticClass:"input-group-text rounded-left",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[t._v("Nombre de joueurs")]),n("label",{staticClass:"input-group-text rounded-0 font-weight-bold justify-content-center",staticStyle:{width:"2.5rem"}},[t._v(t._s(t.players))])]),n("button",{staticClass:"btn btn-sm btn-outline-secondary bgwhite",staticStyle:{border:"1px solid #ced4da",width:"2.5rem"},attrs:{disabled:t.players>=20,"aria-label":"Ajouter un joueur"},on:{click:function(e){t.players++}}},[t._v("+")]),n("button",{staticClass:"btn btn-sm btn-outline-secondary bgwhite",staticStyle:{border:"1px solid #ced4da",width:"2.5rem"},attrs:{disabled:t.players<=1,"aria-label":"Retirer un joueur"},on:{click:function(e){t.players--}}},[t._v("-")])])]),n("div",{staticClass:"setting"},[n("button",{staticClass:"btn btn-sm btn-outline-secondary bgwhite left btn-auto",class:[t.auto?"on":"off"],staticStyle:{border:"1px solid #ced4da"},on:{click:function(e){t.auto=!t.auto}}},[t._v(" Tirage automatique "),n("span",{staticClass:"btn-auto-icons"},[n("i",{staticClass:"btn-auto-icon btn-auto-icon__on"},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-check"}})],1),n("i",{staticClass:"btn-auto-icon btn-auto-icon__off"},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-xmark"}})],1)])]),n("button",{staticClass:"btn btn-sm btn-outline-secondary bgwhite left",staticStyle:{border:"1px solid #ced4da"},attrs:{disabled:t.auto},on:{click:t.pull}},[t._v("Tirer un numéro")])])],t.ended?n("h2",{staticClass:"ended"},[t._v("Partie terminée")]):t._e(),t.ended?[n("button",{staticClass:"btn btn-outline-secondary bgwhite",staticStyle:{border:"1px solid #ced4da"},on:{click:t.restart}},[t._v("Recommencer")])]:t._e()],2),!t.auto&&!t.pulled||t.ended?t._e():n("span",{staticClass:"pulled board lighten",class:{"auto-on":t.auto}},[t._v(t._s(t.pulled))])]),n("div",{staticClass:"winners-wrapper"},[t.winners.length>0?n("div",{staticClass:"winners"},[n("div",{staticClass:"winners-positions winners-col"},[n("span",{staticClass:"winners-position tile title"},[t._v("Positions")]),t._l(t.winners,(function(e,s){return n("span",{key:s,staticClass:"winners-position tile"},[t._v(t._s(e[0])),n("sup",[t._v(t._s(1==e[0]?"er":"e"))])])}))],2),n("div",{staticClass:"winners-names winners-col"},[n("span",{staticClass:"winners-position tile title"},[t._v("Noms")]),t._l(t.winners,(function(e,s){return n("span",{key:s,staticClass:"winners-name tile"},t._l(e[1],(function(e,s){return n("span",{key:s},[t._v(t._s(t.getSeperator(s))+" joueur "+t._s(e))])})),0)}))],2)]):t._e()]),n("div",{staticClass:"cards-wrapper"},t._l(t.players,(function(e,s){return n(t.componentcard,{key:s,tag:"component",attrs:{initcards:t.initcards,ended:t.ended,gameset:t.gameset,index:s},on:{declarewinner:function(e){return t.declarWinner(e)}}})})),1)])])])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-append"},[n("label",{staticClass:"input-group-text",attrs:{for:"inputGroupSelect02"}},[t._v("Version")])])}];n("99af"),n("4160"),n("a434"),n("d3b7"),n("159b");function a(){for(var t in o)for(var e=0;e<o[t].letters.length*o[t].mod;e++){var n={number:e+1,letter:Math.floor(e/o[t].mod),pulled:!1};o[t].numbers.push(n)}}var o={bingo:{name:"bingo",letters:["B","I","N","G","O"],mod:15,numbers:[]},bingoplus:{name:"bingoplus",letters:["B","I","N","G","O","P","L","U","S"],mod:25,numbers:[]}};a();var l=o,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"container board"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("h1",{staticClass:"lighten"},[t._v(t._s(t.title))])])])])},c=[],d={name:"Header",props:{title:String}},p=d,h=(n("70cf"),n("2877")),m=Object(h["a"])(p,u,c,!1,null,"462bd9c6",null),f=m.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("p",{staticClass:"player-title"},[t._v("Joueur "+t._s(t.index+1))]),n("div",{staticClass:"cardboard"},[n("div",{staticClass:"card-letters"},t._l(t.gameset.letters,(function(e,s){return n("div",{key:s,staticClass:"card-tile card-letter"},[t._v(" "+t._s(e)+" ")])})),0),n("div",{staticClass:"card-numbers"},t._l(t.gameset.letters,(function(e,s){return n("div",{key:s,staticClass:"card-col"},t._l(t.numbers[s],(function(e,i){return n("div",{key:i,staticClass:"card-tile card-letter",attrs:{"data-pulled":t.getPulled(e)}},[t._v(" "+t._s(t.getNumber(e,i+s*t.gameset.letters.length))+" ")])})),0)})),0)])])},g=[],v=(n("a623"),n("a9e3"),{name:"Card",props:{gameset:Object,index:Number,initcards:Number,ended:Boolean},data:function(){return{numbers:[],grid:[],won:!1}},computed:{middlecase:function(){return Math.floor(Math.pow(this.gameset.letters.length,2)/2)},middlecolumn:function(){return Math.floor(this.gameset.letters.length/2)}},methods:{generateNumbers:function(){for(var t=[],e=0;e<this.gameset.letters.length;e++){for(var n=[],s=[],i=e==this.middlecolumn?1:0,r=0;r<this.gameset.mod;r++)s.push(r+e*this.gameset.mod);for(var a=0;a<this.gameset.letters.length-i;a++){var o=s.splice(Math.floor(Math.random()*s.length),1);n.push(o[0]),this.grid.push(this.gameset.numbers[1].pulled)}t.push(n.sort((function(t,e){return t-e})))}t[this.middlecolumn].splice(this.middlecolumn,0,"free"),this.grid.splice(this.middlecase,0,!0),this.numbers=t},getPulled:function(t){return"free"==t||this.gameset.numbers[t].pulled},getNumber:function(t,e){return e==this.middlecase?"free":this.gameset.numbers[t].number},checkBingo:function(){for(var t=this.numbers.length,e={diag1:[],diag2:[]},n=0;n<t;n++){for(var s={col:[],row:[]},i=0;i<t;i++)s.row.push(this.getPulled(this.numbers[i][n])),s.col.push(this.getPulled(this.numbers[n][i]));if(this.testBingo(s.row))return void this.declareWinner("row",n+1);if(this.testBingo(s.col))return void this.declareWinner("column",n+1);if(e.diag1.push(this.getPulled(this.numbers[n][(n*t+n)%t])),e.diag2.push(this.getPulled(this.numbers[n][(n*t+t-n-1)%t])),n==t-1){if(this.testBingo(e.diag1))return void this.declareWinner("diagonal","top left to bottom right");if(this.testBingo(e.diag2))return void this.declareWinner("diagonal","bottom left to top right")}}},testBingo:function(t){return t.every((function(t){return!0===t}))},declareWinner:function(){this.won||(this.$emit("declarewinner",this.$props.index+1),this.won=!0)},restart:function(){this.numbers=[],this.grid=[],this.won=!1,this.generateNumbers()}},watch:{gameset:{handler:function(){this.ended||this.checkBingo()},deep:!0},initcards:function(){this.restart(),console.log("restart")}},mounted:function(){this.generateNumbers()}}),_=v,w=(n("c5d5"),Object(h["a"])(_,b,g,!1,null,"0a335a29",null)),C=w.exports,y={name:"App",components:{Header:f,Card:C},data:function(){return{bingos:l,version:"bingo",auto:!1,interval:null,abacus:[],ended:!1,init:!0,initcards:0,players:4,pulled:"",compare:"",winners:[],winnerstotal:0,componentcard:"Card"}},computed:{gameset:function(){return l[this.version]}},watch:{auto:function(){var t=this;this.auto?this.interval=setInterval((function(){t.ended?clearInterval(t.interval):t.pull()}),2e3):clearInterval(this.interval)}},methods:{setAbacus:function(){for(var t=0;t<this.gameset.numbers.length;t++)this.abacus.push(this.gameset.numbers[t].number)},pull:function(){var t=this.abacus.splice(Math.floor(Math.random()*this.abacus.length),1);this.gameset.numbers[t-1].pulled=!0,this.showPulled(this.gameset.numbers[t-1]),this.abacus.length<=0&&this.endGame()},endGame:function(){this.init=!1,this.ended=!0},showPulled:function(t){this.pulled="".concat(this.gameset.letters[t.letter]).concat(t.number)},declarWinner:function(t){this.winnerstotal++,this.compare!=this.pulled?this.winners.push([this.winnerstotal,[t]]):this.winners[this.winners.length-1][1].push(t),this.compare=this.pulled,this.winnerstotal>=this.players&&this.endGame()},getSeperator:function(t){var e;return e=t>=1?", ":"",e},restart:function(){this.initcards++,this.init=!0,this.ended=!1,this.abacus=[],this.pulled="",this.compare="",this.winners=[],this.winnerstotal=0,this.gameset.numbers.forEach((function(t,e,n){n[e].pulled=!1})),this.setAbacus()},setversion:function(){var t=this,e=new Promise((function(e){t.endGame(),t.initcards++,e()}));e.then((function(){t.restart()}))}},mounted:function(){document.title="Jouez au Bingo+ | Projet fait avec Vue.js 2 CLI",console.log("App Ready!"),this.setAbacus()}},x=y,j=(n("034f"),Object(h["a"])(x,i,r,!1,null,null,null)),k=j.exports,P=n("be33"),S=n("ad3d"),O=n("11ca");P["c"].add(O["b"],O["a"],O["c"]),s["a"].component("font-awesome-icon",S["a"]),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(k)}}).$mount("#app")},"70cf":function(t,e,n){"use strict";var s=n("f8de"),i=n.n(s);i.a},"7aeb":function(t,e,n){},"85ec":function(t,e,n){},c5d5:function(t,e,n){"use strict";var s=n("7aeb"),i=n.n(s);i.a},f8de:function(t,e,n){}});
//# sourceMappingURL=app.d4dda23b.js.map